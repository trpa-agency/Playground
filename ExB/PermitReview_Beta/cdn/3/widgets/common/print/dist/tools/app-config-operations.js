System.register(["jimu-core"],(function(e,t){var o={};return{setters:[function(e){o.Immutable=e.Immutable}],execute:function(){e((()=>{"use strict";var e={79244:e=>{e.exports=o}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{r.r(i),r.d(i,{default:()=>t});var e=r(79244);class t{constructor(){this.id="print-app-config-operation"}dataSourceWillRemove(t,o){let r=!1;const i=((n=null==t?void 0:t.asMutable({deep:!0})).widgets&&Object.keys(n.widgets).forEach((e=>{var t;const i=n.widgets[e];if("widgets/common/print/"===i.uri){const u=((null===(t=i.config)||void 0===t?void 0:t.printCustomTemplate)||[]).map((e=>{const t=(null==e?void 0:e.reportOptions)||{},i=(null==t?void 0:t.reportSectionOverrides)||{};return Object.keys(i).forEach((e=>{var t,n,u;const l=null===(t=i[e])||void 0===t?void 0:t.exbDatasource;if(l){const t=l.filter((e=>{const t=(null==e?void 0:e.dataSourceId)===o||(null==e?void 0:e.rootDataSourceId)===o||(null==e?void 0:e.mainDataSourceId)===o;return t&&(r=!0),!t}));0===(null==t?void 0:t.length)?((null===(n=i[e])||void 0===n?void 0:n.isDsOutputDs)&&(null===(u=i[e])||void 0===u||delete u.isDsOutputDs),delete i[e].exbDatasource):i[e].exbDatasource=t}})),t.reportSectionOverrides=i,e.reportOptions=t,e}));r&&(n.widgets[e].config.printCustomTemplate=u)}})),n);var n;return r?(0,e.Immutable)(i):t}}})(),i})())}}}));